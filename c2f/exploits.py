import paramiko
import subprocess

'''
This function creates an SSHClient object from the Paramiko library, 
sets the missing host key policy to automatically add new hosts to the known_hosts file, 
and then uses the connect() method to establish an SSH connection to the specified hostname with the given username and password.
 The function returns the SSHClient object, which can be used to run commands on the remote server.

Example usage:
client = ssh_connect('example.com', 'myusername', 'mypassword')
stdin, stdout, stderr = client.exec_command('ls')
print(stdout.read().decode())
client.close()

'''
def ssh_connect(hostname, username, password):
    client = paramiko.SSHClient()
    client.set_missing_host_key_policy(paramiko.AutoAddPolicy())
    client.connect(hostname=hostname, username=username, password=password)
    return client

def list_clients(file):
    print((open(str(file)).read))

'''
This function defines a ping function that takes a host 
argument (either a URL or IP address) and uses the subprocess.run 
function to execute the ping command with the -c 1 
option (which sends a single packet) and the given host. 
The function checks the return code of the command to 
determine whether the host is reachable (return code 0) or not (return code non-zero).

Example usage:
if ping('google.com'):
    print('google.com is reachable')
else:
    print('google.com is not reachable')
'''

def ping(host):
    # Use the ping command to check if the host is reachable
    result = subprocess.run(['ping', '-c', '1', host], stdout=subprocess.PIPE)
    if result.returncode == 0:
        return True
    else:
        return False